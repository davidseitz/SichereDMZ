graph TD
    %% ----- STYLING -----
    classDef router fill:#f9f,stroke:#333,stroke-width:2px
    classDef security fill:#ff9,stroke:#333,stroke-width:2px
    classDef server fill:#ccf,stroke:#333,stroke-width:2px
    classDef switch fill:#cff,stroke:#333,stroke-width:2px

    %% ----- ZONEN (Subgraphs) -----
    subgraph "Detaillierte DMZ-Zone (10.10.1.0/24)"
        direction LR
        
        %% ----- Der 'Switch' Container -----
        BR_DMZ["br_dmz<br>(kind: linux, als Switch konfiguriert)"]
        
        %% ----- Angelötete Geräte -----
        RE["router_edge<br>(10.10.1.1)"]
        RI["router_int<br>(10.10.1.2)"]
        WAF["waf<br>(10.10.1.10)"]
        IDS["ids<br>(10.10.1.20)"]
        WEB["web<br>(10.10.1.100)"]

        %% ----- Verbindungen (Kabel) zum Switch -----
        RE -- "eth2 --- eth1" --> BR_DMZ
        RI -- "eth1 --- eth2" --> BR_DMZ
        WAF -- "eth1 --- eth3" --> BR_DMZ
        IDS -- "eth1 --- eth4" --> BR_DMZ
        WEB -- "eth1 --- eth5" --> BR_DMZ
    end

    %% ----- CSS Klassen Zuweisung -----
    class RE,RI router
    class WAF,IDS security