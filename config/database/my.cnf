# This group is read both by the client and the server
!includedir /etc/my.cnf.d
[client-server]

# This group is read by the server
[mysqld]
# --- MIGRATED FROM CLI COMMAND ---
user = mysql
datadir = /var/lib/mysql
port = 3306
# "skip-name-resolve" does not take a value in the config, 
# just its presence enables it.
skip-name-resolve 

# BINDING: Specific IP (Replaces your CLI 0.0.0.0 and previous config entry)
bind-address = 10.10.40.2

# Note on skip-networking:
# In the config file, you simply OMIT "skip-networking" to enable networking.
# You do not need to write "skip-networking=0".
skip-networking=0

# --- ERROR LOGGING ---
log_error = /var/log/mysql/error.log

# --- GENERAL LOGGING (DISABLED) ---
general_log = 0

# --- AUDIT PLUGIN LOGGING ---
plugin_load_add = server_audit=server_audit.so
server_audit_logging = ON
server_audit_events = CONNECT,QUERY,TABLE
server_audit_output_type = FILE
server_audit_file_path = /var/log/mysql/audit.log
server_audit_file_rotate_size = 1000000
server_audit_file_rotations = 9

# --- SECURITY ---
symbolic-links=0

